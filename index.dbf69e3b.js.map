{"mappings":"kBACoCA,UAC1BC,EAMV,SAAuBD,aACRA,EAAWE,YAAYC,KAAKC,GAAUC,OAAOD,KAPlCE,CAAcN,GAAYO,iBAYzCC,EAVgBP,EASQQ,QAAO,CAACL,EAAOM,IAAUA,EAAQ,GAAM,KAI1E,SAA2BC,SACjBC,EAAiBD,EAAOF,QAAO,CAACL,EAAOM,IAAUA,EAAQ,GAAM,WAM9DF,EALQI,EAAeT,KAAKC,GACvB,EAARA,GAAa,GACPS,KAAKC,MAAe,EAARV,EAAa,IAAgB,EAARA,EAAa,GACtC,EAARA,KAlB8BW,CAAkBd,IAC1C,IAAO,GAsB3B,SAAAO,EAAqBG,UACVA,EAAOK,QAAO,CAACC,EAAMC,IAASD,EAAOC,GAAM,UC1BlDC,WAAAA,CACIC,KAAM,aACNC,cAAAA,CAAgB,IAChBC,OAAAA,CAAS,KAAM,KAAM,KAAM,KAAM,KAAM,OAE3CC,KAAAA,CACIH,KAAM,OACNC,cAAAA,CAAgB,GAAI,IACpBC,OAAAA,CAAS,MAEbE,GAAAA,CACIJ,KAAM,mBACNC,cAAAA,CAAgB,IAChBC,OAAAA,CAAS,KAAM,cCZjBG,EAAAA,aAEKC,KAASC,OAAOC,OAAAA,GACvBF,EAAML,cAAcQ,SAASzB,GAAUqB,EAAsBK,KAAK1B,WAGhE2B,EAAAA,IAAAA,IAAsCC,IAAIP,UAadzB,QAC1BiC,EAAa,2CAENP,KAASC,OAAOC,OAAAA,MACnBM,EAAeR,EAAMJ,eACAI,EAAMN,KAInC,SAAAc,EAAwBC,OAChBC,GAAS,SACbD,EAAcN,SAASzB,IACFJ,EAAWE,WAAWmC,WAAWjC,KAE9CgC,GAAS,MAGVA,SA5Bf,SAAgCpC,OACxBsC,GAAiB,SACrBP,EAA4BF,SAASzB,IAC7BJ,EAAWE,WAAWqC,SAAWnC,IACjCkC,GAAiB,MAGlBA,EAuBAE,CAAuBxC,GACxBiC,EACA,kCCxCVQ,SAASC,iBAAiB,oBAAoB,WAEpCC,EAAYF,SAASG,cAAc,4BACnCC,EAAOJ,SAASG,cAAc,wCACxBH,SAASG,cAAc,6BAE/BF,iBAAiB,SAKrB,SAAuBI,GACnBA,EAAMC,iBACNF,EAAKG,YAAAA,iBCVqBhD,CAAAA,OACJ,iBAAfA,EACPA,EAAaiD,SAAAA,IACLjD,GACCS,QAAQyC,GAAe,MAAPA,EAAsB,MAAPA,IAC/BC,KAAK,aAEe,iBAAfnD,YACJoD,MAAM,qCAGKpD,GAAAA,EACHA,GAChB,oBDHkBqD,CAAgCV,EAAUjB,YANlEiB,EAAUD,iBAAiB,SAAS,KAChCC,EAAUjB,MAAQ","sources":["./src/isCardNumberValid.js","./src/cardsData.js","./src/getCardProvider.js","./src/index.js","./src/checkCardNumber.js"],"sourcesContent":["// eslint-disable-next-line no-undef\nmodule.exports.isCardNumberValid = (cardNumber) => {\n    const numberReverse = arrayOfDigits(cardNumber).reverse();\n    const result =\n        calculateEvenIndex(numberReverse) + calculateOddIndex(numberReverse);\n    return result % 10 === 0;\n};\n\nfunction arrayOfDigits(cardNumber) {\n    return [...cardNumber.toString()].map((digit) => Number(digit));\n}\n\nfunction calculateEvenIndex(digits) {\n    const digitsEvenIndex = digits.filter((digit, index) => index % 2 === 0);\n    return sumOfDigits(digitsEvenIndex);\n}\n\nfunction calculateOddIndex(digits) {\n    const digitsOddIndex = digits.filter((digit, index) => index % 2 === 1);\n    const result = digitsOddIndex.map((digit) =>\n        digit * 2 >= 10\n            ? Math.floor((digit * 2) / 10) + ((digit * 2) % 10)\n            : digit * 2,\n    );\n    return sumOfDigits(result);\n}\n\nfunction sumOfDigits(digits) {\n    return digits.reduce((curr, next) => curr + next, 0);\n}\n","// eslint-disable-next-line no-undef\nmodule.exports.cards = {\n    mastercard: {\n        name: \"Mastercard\",\n        numbersLength: [16],\n        prefix: [\"22\", \"51\", \"52\", \"53\", \"54\", \"55\"],\n    },\n    visa: {\n        name: \"Visa\",\n        numbersLength: [13, 16],\n        prefix: [\"4\"],\n    },\n    ae: {\n        name: \"American Express\",\n        numbersLength: [15],\n        prefix: [\"34\", \"37\"],\n    },\n};\n","// eslint-disable-next-line no-undef\nconst { cards } = require(\"./cardsData\");\n\nconst allNumbersCardsLength = [];\n\nfor (const value of Object.values(cards)) {\n    value.numbersLength.forEach((digit) => allNumbersCardsLength.push(digit));\n}\n\nconst allUniqueNumbersCardsLength = [...new Set(allNumbersCardsLength)];\n\nfunction checkCardNumbersLength(cardNumber) {\n    let isVerifyLength = false;\n    allUniqueNumbersCardsLength.forEach((digit) => {\n        if (cardNumber.toString().length === digit) {\n            isVerifyLength = true;\n        }\n    });\n    return isVerifyLength;\n}\n\n// eslint-disable-next-line no-undef\nmodule.exports.getCardProvider = (cardNumber) => {\n    let isProvider = \"Cannot recognize card provider\";\n\n    for (const value of Object.values(cards)) {\n        if (verifyProvider(value.prefix)) {\n            return (isProvider = value.name);\n        }\n    }\n\n    function verifyProvider(startOfDigits) {\n        let result = false;\n        startOfDigits.forEach((digit) => {\n            const isVerify = cardNumber.toString().startsWith(digit);\n            if (isVerify) {\n                result = true;\n            }\n        });\n        return result;\n    }\n    return checkCardNumbersLength(cardNumber)\n        ? isProvider\n        : \"Cannot recognize card provider\";\n};\n","// eslint-disable-next-line no-undef\nconst { checkCardNumber } = require('./checkCardNumber');\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\n    const inputData = document.querySelector('.card-checker__input--js');\n    const info = document.querySelector(\".card-checker__info-bar__content--js\");\n    const btn = document.querySelector(\".card-checker__button--js\");\n\n    btn.addEventListener('click', showCheckCard);\n    inputData.addEventListener('click', () => {\n        inputData.value = '';\n    });\n\n    function showCheckCard(event){\n        event.preventDefault();\n        info.textContent = `Your card is: ${checkCardNumber(inputData.value)}`;\n    }\n})\n","// eslint-disable-next-line no-undef\nconst { isCardNumberValid } = require(\"./isCardNumberValid\");\n// eslint-disable-next-line no-undef\nconst { getCardProvider } = require(\"./getCardProvider\");\n\n// eslint-disable-next-line no-undef\nmodule.exports.checkCardNumber = (cardNumber) => {\n    if (typeof cardNumber === \"string\") {\n        cardNumber = parseInt(\n            [...cardNumber]\n                .filter((el) => (el !== \" \") & (el !== \"-\"))\n                .join(\"\"),\n        );\n    } else if (typeof cardNumber !== \"number\") {\n        throw new Error(\"The data type is invalid\");\n    }\n\n    return isCardNumberValid(cardNumber)\n        ? getCardProvider(cardNumber)\n        : \"Incorrect number\";\n};\n"],"names":["cardNumber","numberReverse","toString","map","digit","Number","$356812bce112090eb42de81ebaf5dc67$var$arrayOfDigits","reverse","$356812bce112090eb42de81ebaf5dc67$var$sumOfDigits","filter","index","digits","digitsOddIndex","Math","floor","$356812bce112090eb42de81ebaf5dc67$var$calculateOddIndex","reduce","curr","next","mastercard","name","numbersLength","prefix","visa","ae","$dc28b4b60f5042475da4dd3b43788664$var$allNumbersCardsLength","value","Object","values","forEach","push","$dc28b4b60f5042475da4dd3b43788664$var$allUniqueNumbersCardsLength","Set","isProvider","verifyProvider","startOfDigits","result","startsWith","isVerifyLength","length","$dc28b4b60f5042475da4dd3b43788664$var$checkCardNumbersLength","document","addEventListener","inputData","querySelector","info","event","preventDefault","textContent","parseInt","el","join","Error","$48ad6dabd886e802e98187264ea50d3d$export$checkCardNumber"],"version":3,"file":"index.dbf69e3b.js.map"}