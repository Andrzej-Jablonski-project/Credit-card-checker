{"version":3,"sources":["isCardNumberValid.js","cardsData.js","getCardProvider.js","checkCardNumber.js","index.js"],"names":["arrayOfDigits","cardNumber","toString","map","digit","Number","calculateEvenIndex","digits","sumOfDigits","filter","index","calculateOddIndex","Math","floor","reduce","curr","next","module","exports","isCardNumberValid","numberReverse","reverse","result","cards","mastercard","name","numbersLength","prefix","visa","ae","require","allNumbersCardsLength","Object","values","value","forEach","push","allUniqueNumbersCardsLength","Set","checkCardNumbersLength","isVerifyLength","length","getCardProvider","isProvider","verifyProvider","startOfDigits","startsWith","checkCardNumber","parseInt","el","join","Error","document","addEventListener","inputData","querySelector","info","showCheckCard","event","preventDefault","textContent"],"mappings":"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","file":"src.2e198361.js","sourceRoot":"../src","sourcesContent":["// eslint-disable-next-line no-undef\nmodule.exports.isCardNumberValid = (cardNumber) => {\n    const numberReverse = arrayOfDigits(cardNumber).reverse();\n    const result =\n        calculateEvenIndex(numberReverse) + calculateOddIndex(numberReverse);\n    return result % 10 === 0;\n};\n\nfunction arrayOfDigits(cardNumber) {\n    return [...cardNumber.toString()].map((digit) => Number(digit));\n}\n\nfunction calculateEvenIndex(digits) {\n    const digitsEvenIndex = digits.filter((digit, index) => index % 2 === 0);\n    return sumOfDigits(digitsEvenIndex);\n}\n\nfunction calculateOddIndex(digits) {\n    const digitsOddIndex = digits.filter((digit, index) => index % 2 === 1);\n    const result = digitsOddIndex.map((digit) =>\n        digit * 2 >= 10\n            ? Math.floor((digit * 2) / 10) + ((digit * 2) % 10)\n            : digit * 2,\n    );\n    return sumOfDigits(result);\n}\n\nfunction sumOfDigits(digits) {\n    return digits.reduce((curr, next) => curr + next, 0);\n}\n","// eslint-disable-next-line no-undef\nmodule.exports.cards = {\n    mastercard: {\n        name: \"Mastercard\",\n        numbersLength: [16],\n        prefix: [\"22\", \"51\", \"52\", \"53\", \"54\", \"55\"],\n    },\n    visa: {\n        name: \"Visa\",\n        numbersLength: [13, 16],\n        prefix: [\"4\"],\n    },\n    ae: {\n        name: \"American Express\",\n        numbersLength: [15],\n        prefix: [\"34\", \"37\"],\n    },\n};\n","// eslint-disable-next-line no-undef\nconst { cards } = require(\"./cardsData\");\n\nconst allNumbersCardsLength = [];\n\nfor (const value of Object.values(cards)) {\n    value.numbersLength.forEach((digit) => allNumbersCardsLength.push(digit));\n}\n\nconst allUniqueNumbersCardsLength = [...new Set(allNumbersCardsLength)];\n\nfunction checkCardNumbersLength(cardNumber) {\n    let isVerifyLength = false;\n    allUniqueNumbersCardsLength.forEach((digit) => {\n        if (cardNumber.toString().length === digit) {\n            isVerifyLength = true;\n        }\n    });\n    return isVerifyLength;\n}\n\n// eslint-disable-next-line no-undef\nmodule.exports.getCardProvider = (cardNumber) => {\n    let isProvider = \"Cannot recognize card provider\";\n\n    for (const value of Object.values(cards)) {\n        if (verifyProvider(value.prefix)) {\n            return (isProvider = value.name);\n        }\n    }\n\n    function verifyProvider(startOfDigits) {\n        let result = false;\n        startOfDigits.forEach((digit) => {\n            const isVerify = cardNumber.toString().startsWith(digit);\n            if (isVerify) {\n                result = true;\n            }\n        });\n        return result;\n    }\n    return checkCardNumbersLength(cardNumber)\n        ? isProvider\n        : \"Cannot recognize card provider\";\n};\n","// eslint-disable-next-line no-undef\nconst { isCardNumberValid } = require(\"./isCardNumberValid\");\n// eslint-disable-next-line no-undef\nconst { getCardProvider } = require(\"./getCardProvider\");\n\n// eslint-disable-next-line no-undef\nmodule.exports.checkCardNumber = (cardNumber) => {\n    if (typeof cardNumber === \"string\") {\n        cardNumber = parseInt(\n            [...cardNumber]\n                .filter((el) => (el !== \" \") & (el !== \"-\"))\n                .join(\"\"),\n        );\n    } else if (typeof cardNumber !== \"number\") {\n        throw new Error(\"The data type is invalid\");\n    }\n\n    return isCardNumberValid(cardNumber)\n        ? getCardProvider(cardNumber)\n        : \"Incorrect number\";\n};\n","// eslint-disable-next-line no-undef\nconst { checkCardNumber } = require(\"./checkCardNumber\");\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n    const inputData = document.querySelector(\".card-checker__input--js\");\n    const info = document.querySelector(\".card-checker__info-bar__content--js\");\n    const btn = document.querySelector(\".card-checker__button--js\");\n\n    btn.addEventListener(\"click\", showCheckCard);\n    inputData.addEventListener(\"click\", () => {\n        inputData.value = \"\";\n        info.textContent = `Your card is: `;\n    });\n\n    function showCheckCard(event) {\n        event.preventDefault();\n        info.textContent = `Your card is: ${checkCardNumber(inputData.value)}`;\n    }\n});\n"]}